# ğŸ§ª DiagnÃ³stico de Diabetes com Machine Learning: ComparaÃ§Ã£o de Pipelines de AnÃ¡lise

Este projeto utiliza tÃ©cnicas de machine learning para prever o diagnÃ³stico de diabetes com base em dados clÃ­nicos, **comparando duas diferentes abordagens (Pipelines A e B) de prÃ©-processamento, modelagem e avaliaÃ§Ã£o**. A maneira **recomendada** de execuÃ§Ã£o Ã© via **Docker**, garantindo um ambiente isolado e livre de conflitos de dependÃªncias.

O objetivo principal do **Notebook** (`Diabetes_Analysis.ipynb`) Ã©:
1.  Executar o **Pipeline A (Baseline/MLOps)**: Usa KNN Imputer e um conjunto de modelos clÃ¡ssicos.
2.  Executar o **Pipeline B (Otimizado/Deep Dive)**: Adiciona **Feature Engineering**, remove features e inclui XGBoost, usando um `threshold` de 0.3 para priorizar o Recall.
3.  **Comparar** detalhadamente as mÃ©tricas de desempenho e a importÃ¢ncia das *features* de ambas as abordagens.

---

## ğŸš€ Como Executar com Docker (Recomendado)

### âœ… PrÃ©-requisitos

- Ter o [Docker](https://docs.docker.com/engine/install/) instalado e funcionando corretamente.

### â–¶ï¸ Passos

1. Clone este repositÃ³rio:
Â  Â ```bash
Â  Â git clone [https://github.com/vagnerbarbosa/tech-challenge-fase-1.git](https://github.com/vagnerbarbosa/tech-challenge-fase-1.git)
Â  Â cd tech-challenge-fase-1
Â  Â ```

2. Construa a imagem Docker:
Â  Â ```bash
Â  Â docker build -t diabetes-ml .
Â  Â ```

3. Execute o container:
Â  Â ```bash
Â  Â docker run -p 8888:8888 diabetes-ml
Â  Â ```

4. Acesse o Jupyter Notebook via navegador e abra o arquivo `Diabetes_Analysis.ipynb`:
Â  Â ```
Â  Â http://localhost:8888
Â  Â ```
> **InstruÃ§Ã£o no Notebook:** Execute todas as cÃ©lulas sequencialmente para rodar as duas esteiras (A e B) e gerar a comparaÃ§Ã£o final.

---

## ğŸ’» ExecuÃ§Ã£o Local (Alternativa)

### âœ… PrÃ©-requisitos

- [Python 3.10 ou 3.11](https://www.python.org/downloads/)
- [Jupyter Notebook](https://jupyter.org/install)

### â–¶ï¸ Passos

1. Clone este repositÃ³rio:
Â  Â ```bash
Â  Â git clone [https://github.com/vagnerbarbosa/tech-challenge-fase-1.git](https://github.com/vagnerbarbosa/tech-challenge-fase-1.git)
Â  Â cd tech-challenge-fase-1
Â  Â ```

2. Instale as dependÃªncias. O arquivo `requirements.txt` deve conter as bibliotecas dos dois pipelines (`pandas`, `numpy`, `scikit-learn`, `matplotlib`, `seaborn`, `imblearn`, `xgboost`, `kagglehub`, `shap`):
Â  Â ```bash
Â  Â pip install --only-binary=:all: -r requirements.txt
Â  Â ```

3. Execute o Jupyter Notebook e abra o arquivo:
Â  Â ```bash
Â  Â jupyter notebook Diabetes_Analysis.ipynb
Â  Â ```

---

## ğŸ“Š Dataset

- O dataset utilizado Ã© o **Pima Indians Diabetes Dataset**, carregado diretamente do Kaggle via `kagglehub` para ambos os pipelines.
- Link da fonte: [Kaggle Diabetes Dataset](https://www.kaggle.com/datasets/mathchi/diabetes-data-set/data)

---

## ğŸ“ˆ Resultados Chave e ComparaÃ§Ã£o de Pipelines

O notebook se encerra com a SeÃ§Ã£o 4, que compara o desempenho dos modelos dos Pipelines A e B. Os resultados podem variar ligeiramente dependendo do ambiente, mas a tendÃªncia observada (o ponto central da anÃ¡lise) Ã© a seguinte:

| MÃ©trica de Desempenho | Pipeline A (Baseline) | Pipeline B (Otimizado) |
| :--- | :--- | :--- |
| **Melhor Modelo (por Recall)** | DecisionTree | Random Forest |
| **Melhor Recall MÃ¡ximo** | $\approx 0.82 - 0.87$ | $\approx 0.89 - 0.91$ |
| **Melhor F1-score** | $\approx 0.65 - 0.70$ | $\approx 0.70 - 0.72$ |

### ğŸ” Destaques da ComparaÃ§Ã£o

- **Recall (Sensibilidade):** O Pipeline B Ã© projetado para maximizar o Recall (detectar mais casos positivos) atravÃ©s do uso de **Feature Engineering** e um **`threshold` de classificaÃ§Ã£o mais baixo (0.3)**. Espera-se que o Pipeline B atinja um Recall superior, indicando maior sensibilidade para o diagnÃ³stico.
- **F1-score:** O Pipeline A pode apresentar um bom F1-score devido Ã  imputaÃ§Ã£o por KNN e Ã  padronizaÃ§Ã£o robusta, enquanto o Pipeline B pode ter um **aumento no Recall Ã  custa de uma ligeira queda na PrecisÃ£o** (e, consequentemente, um F1-score potencialmente similar ou superior).
- **Interpretabilidade:** O Pipeline B tem um conjunto de *features* diferentes, incluindo variÃ¡veis de interaÃ§Ã£o (`idade_bmi`, `glucose_bmi`), cuja importÃ¢ncia serÃ¡ visÃ­vel nos grÃ¡ficos de **Feature Importance e SHAP**, provando o valor das etapas de otimizaÃ§Ã£o.

---

### ğŸ§® InterpretaÃ§Ã£o das MÃ©tricas

- **Recall (Sensibilidade):** Percentual de pacientes com diabetes corretamente identificados. **Essencial** para evitar diagnÃ³sticos falsos negativos (FN).
- **Precision (PrecisÃ£o):** Percentual de previsÃµes positivas que estÃ£o corretas. Reduz diagnÃ³sticos falsos positivos (FP).
- **F1-score:** EquilÃ­brio entre precisÃ£o e recall, importante em casos de desbalanceamento de classes.
- **Matriz de ConfusÃ£o:** Permite visualizar detalhadamente os acertos e erros do modelo.

---

## LimitaÃ§Ãµes dos Modelos e do Dataset
- O modelo foi treinado em dados pÃºblicos, que podem nÃ£o representar toda a populaÃ§Ã£o.
- PossÃ­vel desbalanceamento entre classes (o problema Ã© mitigado pelo uso de SMOTE em ambos os pipelines).
- NÃ£o foi realizada validaÃ§Ã£o clÃ­nica direta.
- O dataset nÃ£o contÃ©m variÃ¡veis socioeconÃ´micas ou contextuais relevantes.

---

## âš ï¸ ObservaÃ§Ãµes

- **Compatibilidade Python:** Para execuÃ§Ã£o local, garanta que a versÃ£o do Python seja **3.10 ou 3.11**, pois versÃµes superiores podem causar erros de compatibilidade com algumas bibliotecas de ML/VisualizaÃ§Ã£o.
- O uso do Docker Ã© a forma mais robusta de garantir um ambiente sem conflitos.

---

## Conformidade e Ã‰tica dos Dados
Este projeto utiliza apenas dados pÃºblicos